<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <script type="text/javascript" src="functionality.js"></script>
  <link rel="stylesheet" href="index.css" />
  <style>
    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 30%;
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <!-- Dragon Container -->
  <div id="dragon-container">
    <button id="dragon-button">
      <img id="dragon" src="./assets/dragon.png" alt="Dragon">
    </button>
    <!-- Dice Container -->
    <div id="dice-container" class="hidden">
      <div class="button-row">
        <button class="image-button" onclick="addDie('D4')">
          <img src="./assets/d4.png" alt="D4">
        </button>
        <button class="image-button" onclick="addDie('D6')">
          <img src="./assets/d6.png" alt="D6">
        </button>
        <button class="image-button" onclick="addDie('D8')">
          <img src="./assets/d8.png" alt="D8">
        </button>
        <button class="image-button" onclick="addDie('D10')">
          <img src="./assets/d10.png" alt="D10">
        </button>
        <button class="image-button" onclick="addDie('D12')">
          <img src="./assets/d12.png" alt="D12">
        </button>
        <button class="image-button" onclick="addDie('D20')">
          <img src="./assets/d20.png" alt="D20">
        </button>
        <button class="image-button" onclick="addDie('D100')">
          <img src="./assets/d100.png" alt="D100">
        </button>
      </div>
      <button id="rollButton" onclick="rollDice()">Roll</button>
    </div>
  </div>
  <div id="event-cards-container"></div>
  <!-- Sword Container -->
  <div id="sword-container">
    <img id="sword" src="./assets/sword.png" alt="Sword" onclick="onSwordClick()">
  </div>

  <!-- Pulltab Container -->
  <div id="pulltab-container">
    <img id="pulltab" src="./assets/pulltab.png" alt="Pull Tab" onclick="onPullTabClick()">
  </div>

  <!-- Scene Menu Container ADD THINGS HERE TO MAKE MORE SCENES!-->
  <div id="scene-menu-container">
    <img id="scene-menu" src="./assets/scenemenu.png" alt="Scene Menu">
    <div id="scenario-container">
      <div class="scenario">
        <h3 class="scenario-title">The Unseen Guardian</h3>
        <p class="scenario-narration">If your players are trying to get into a building you can: \[As the players
          approach a low growl emanates from the darkness, followed by the tough appearance of a guardian, he is barely
          visible in the dim light and tells the party to buzz off as this place is restricted for commoners and
          adventurers alike. If the party tries to keep causing trouble punish them by placing them by sending 5 gaurds
          above their levels to jail them\]</p>
        <img class="scenario-image" src="./assets/scenario1.jpg" alt="Scenario 1 Image">
        <br>
        <button class="select-scenario-btn">Select Scenario</button>
      </div>
      <div class="scenario">
        <h3 class="scenario-title">Forbidden Path</h3>
        <p class="scenario-narration">If your players a mucking about and they are near/in a forest you can: Suddenly
          "X" player dissapears and finds themselves in an overgrown path with foliage. Give them a timed death like the
          air is suffocating so they lose 1D4 of health every 30 seconds and this will make your party panic and run to
          rescue them. The fog dissapears when they are back together!</p>
        <img class="scenario-image" src="./assets/path.jpg" alt="Scenario 2 Image">
        <br>
        <button class="select-scenario-btn">Select Scenario</button>
      </div>
      <div class="scenario">
        <h3 class="scenario-title">Scenario 3</h3>
        <p class="scenario-narration">If your party splits up try: Put an enemy that is immune to the main damage type
          of this half of your party is dealing and that will make them go back and grab the other half to defeat this
          new creature.</p>
        <img class="scenario-image" src="./assets/Construct.png" alt="Scenario 3 Image">
        <br>
        <button class="select-scenario-btn">Select Scenario</button>
      </div>
    </div>
  </div>

  <!-- Arrow Button -->
  <button id="up-arrow-button">
    <img id="up-arrow" src="./assets/Arrow.png" alt="Up Arrow">
  </button>
  <!-- Down Arrow Button -->
  <button id="down-arrow-button">
    <img id="down-arrow" src="./assets/Arrow.png" alt="Down Arrow">
  </button>
  <button id="plus-button">
    <img id="plus" src="./assets/plus.png" alt="Plus">
  </button>
  <!-- Event Maker Button -->
  <button id="event-maker-button">Event Maker</button>

  <!-- Modal -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Create Event</h2>
      <form id="event-form">
        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title" required><br>
        <label for="narration">Narration:</label><br>
        <textarea id="narration" name="narration" rows="4" required></textarea><br>
        <label for="image">Upload Image:</label><br>
        <input type="file" id="image" name="image" accept="image/*" required><br>
        <button type="submit">Submit</button>
      </form>
    </div>
  </div>

  <!-- History Modal -->
  <div id="historyModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Roll History</h2>
      <ul id="historyList"></ul>
    </div>
  </div>

  <div id="result" onclick="showHistory()"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/draggable/1.2.2/draggable.bundle.umd.min.js">
    import Draggable from 'draggable';

    // Initialize Draggable for each image
    const images = document.querySelectorAll('.scenario-image');
    images.forEach(image => {
      new Draggable(image);
    });

  </script>

  <script>

  </script>
</body>

</html>